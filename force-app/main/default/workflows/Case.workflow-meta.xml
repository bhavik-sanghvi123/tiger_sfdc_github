<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Case_Escalation_Notification</fullName>
        <description>Case Escalation Notification</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Abbott_Nutrition_Case_Email_Template/Case_Escalation_Notification</template>
    </alerts>
    <alerts>
        <fullName>Case_Escalation_To_Owner</fullName>
        <description>Case Escalation To Owner</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Abbott_Nutrition_Case_Email_Template/Caseescalation</template>
    </alerts>
    <alerts>
        <fullName>Send_Email_to_Escalation_Point</fullName>
        <ccEmails>createactivity@16c8qd7jxnusvr4w5p1p2m0mqu3ayvzgzg8ww0ses6j7axrwgn.0o-1csaoea4.ap8.apex.salesforce.com</ccEmails>
        <description>Send Email to Escalation Point</description>
        <protected>false</protected>
        <recipients>
            <field>AdditionalEscalationPointEmail1__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail2__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail3__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail4__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail5__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail6__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>EscalationPoint2__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>EscalationPoint__c</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Abbott_Nutrition_Case_Email_Template/Caseescalation</template>
    </alerts>
    <alerts>
        <fullName>Send_Email_to_Escalation_Point_Closed</fullName>
        <description>Send Email to Escalation Point (Closed)</description>
        <protected>false</protected>
        <recipients>
            <field>AdditionalEscalationPointEmail1__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail2__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail3__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail4__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail5__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>AdditionalEscalationPointEmail6__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>EscalationPoint2__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <field>EscalationPoint__c</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Abbott_Nutrition_Case_Email_Template/caseescalation_Closed</template>
    </alerts>
    <fieldUpdates>
        <fullName>Case_Assign_Market_TW</fullName>
        <field>Market__c</field>
        <formula>&apos;TW&apos;</formula>
        <name>Case - Assign Market TW</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Case_Update_Market_Value</fullName>
        <field>Market__c</field>
        <formula>TEXT(Account.Market__c)</formula>
        <name>Case - Update Market Value</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_CC1</fullName>
        <field>AdditionalEscalationPointEmail1__c</field>
        <formula>EscalatedTo__r.AdditionalEscalationPointEmail1__c</formula>
        <name>Populate CC1</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_CC2</fullName>
        <field>AdditionalEscalationPointEmail2__c</field>
        <formula>EscalatedTo__r.AdditionalEscalationPointEmail2__c</formula>
        <name>Populate CC2</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_CC3</fullName>
        <field>AdditionalEscalationPointEmail3__c</field>
        <formula>EscalatedTo__r.AdditionalEscalationPointEmail3__c</formula>
        <name>Populate CC3</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_CC4</fullName>
        <field>AdditionalEscalationPointEmail4__c</field>
        <formula>EscalatedTo__r.AdditionalEscalationPointEmail4__c</formula>
        <name>Populate CC4</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_CC5</fullName>
        <field>AdditionalEscalationPointEmail5__c</field>
        <formula>EscalatedTo__r.AdditionalEscalationPointEmail5__c</formula>
        <name>Populate CC5</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_CC6</fullName>
        <field>AdditionalEscalationPointEmail6__c</field>
        <formula>EscalatedTo__r.AdditionalEscalationPointEmail6__c</formula>
        <name>Populate CC6</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_Escalation_Point</fullName>
        <field>EscalationPoint__c</field>
        <formula>EscalatedTo__r.MainEscalationPointEmail__c</formula>
        <name>Populate Escalation Point</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Populate_Escalation_Point_2</fullName>
        <field>EscalationPoint2__c</field>
        <formula>EscalatedTo__r.MainEscalationPointEmail2__c</formula>
        <name>Populate Escalation Point 2</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Uncheck_Notify_Service_Agent</fullName>
        <field>NotifyServiceAgent__c</field>
        <literalValue>0</literalValue>
        <name>Update Notify Service Agent</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Case_Resolved_Upon_Opening</fullName>
        <field>ResolvedUponOpening__c</field>
        <literalValue>1</literalValue>
        <name>Update Case Resolved Upon Opening</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Description_to_Custom_Field</fullName>
        <field>Description_List_View__c</field>
        <formula>Description</formula>
        <name>Update Description to Custom Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Follow_Up_Call_Required_to_TRUE</fullName>
        <field>FollowUpCallRequired__c</field>
        <literalValue>1</literalValue>
        <name>Update Follow-Up Call Required to TRUE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Notify_Service_Agent</fullName>
        <field>NotifyServiceAgent__c</field>
        <literalValue>0</literalValue>
        <name>Update Notify Service Agent</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Reopen_Count</fullName>
        <field>ReopenCount__c</field>
        <formula>ReopenCount__c + 1</formula>
        <name>Update Reopen Count</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Reopen_Notes</fullName>
        <field>ReopenNotes__c</field>
        <name>Update Reopen Notes</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Null</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Reviewed_Date</fullName>
        <field>ReviewedDate__c</field>
        <formula>TODAY()</formula>
        <name>Update Reviewed Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Case - Update Market</fullName>
        <actions>
            <name>Case_Update_Market_Value</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Update the market field using the household market value</description>
        <formula>NOT( ISBLANK(AccountId) )</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Case - Update Reviewed Date</fullName>
        <actions>
            <name>Update_Reviewed_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Case.Status</field>
            <operation>equals</operation>
            <value>Closed - Reviewed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Case Escalation</fullName>
        <actions>
            <name>Send_Email_to_Escalation_Point</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Populate_CC1</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC2</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC3</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC4</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC5</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC6</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Escalation_Point</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Escalation_Point_2</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>OR(     AND(         ISNEW(),         ISPICKVAL(Status, &quot;Escalated&quot;)     ),     AND(          ISPICKVAL(Status, &quot;Escalated&quot;),         OR(             ISCHANGED(Status),             ISCHANGED(EscalatedTo__c)         )     ) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Case Escalation - Closed</fullName>
        <actions>
            <name>Send_Email_to_Escalation_Point_Closed</name>
            <type>Alert</type>
        </actions>
        <actions>
            <name>Populate_CC1</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC2</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC3</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC4</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC5</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_CC6</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Escalation_Point</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Populate_Escalation_Point_2</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Notifies escalation point once an escalated case has been closed</description>
        <formula>AND(     ISPICKVAL(PRIORVALUE(Status), &quot;Escalated&quot;),     NOT(ISNULL(EscalatedTo__c)),     OR(         ISPICKVAL(Status, &quot;Closed-Resolved&quot;),         ISPICKVAL(Status, &quot;Closed-Unresolved&quot;)     ) )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Case Escalation Difficult - ANZ</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Case.Market__c</field>
            <operation>equals</operation>
            <value>ANZ</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.IsClosed</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.RecordTypeId</field>
            <operation>equals</operation>
            <value>Feedback,Inquiry</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.Complexity__c</field>
            <operation>equals</operation>
            <value>Difficult</value>
        </criteriaItems>
        <description>Feedback / Inquiry based on complexity - Difficult</description>
        <triggerType>onCreateOnly</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Case_Escalation_To_Owner</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Case.CreatedDate</offsetFromField>
            <timeLength>30</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Case Escalation Intermediate - ANZ</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Case.Market__c</field>
            <operation>equals</operation>
            <value>ANZ</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.IsClosed</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.RecordTypeId</field>
            <operation>equals</operation>
            <value>Feedback,Inquiry</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.Complexity__c</field>
            <operation>equals</operation>
            <value>Intermediate</value>
        </criteriaItems>
        <description>Feedback / Inquiry based on complexity - Intermediate</description>
        <triggerType>onCreateOnly</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Case_Escalation_To_Owner</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Case.CreatedDate</offsetFromField>
            <timeLength>5</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Case Escalation Simple - ANZ</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Case.Market__c</field>
            <operation>equals</operation>
            <value>ANZ</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.IsClosed</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.RecordTypeId</field>
            <operation>equals</operation>
            <value>Feedback,Inquiry</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.Complexity__c</field>
            <operation>equals</operation>
            <value>Simple</value>
        </criteriaItems>
        <description>Feedback / Inquiry based on complexity - Simple</description>
        <triggerType>onCreateOnly</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Case_Escalation_To_Owner</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Case.CreatedDate</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Case Escalation Tactical - ANZ</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Case.Market__c</field>
            <operation>equals</operation>
            <value>ANZ</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.IsClosed</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.RecordTypeId</field>
            <operation>equals</operation>
            <value>Feedback,Inquiry</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.Complexity__c</field>
            <operation>equals</operation>
            <value>Tactical</value>
        </criteriaItems>
        <description>Feedback / Inquiry based on complexity - Tactical</description>
        <triggerType>onCreateOnly</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Case_Escalation_To_Owner</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Case.CreatedDate</offsetFromField>
            <timeLength>10</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Case Resolved Upon Opening</fullName>
        <actions>
            <name>Update_Case_Resolved_Upon_Opening</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Case.Status</field>
            <operation>equals</operation>
            <value>Closed-Resolved</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Case%3A Email2Case Taiwan Market</fullName>
        <actions>
            <name>Case_Assign_Market_TW</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Case.OwnerId</field>
            <operation>equals</operation>
            <value>TW - CRM</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Case%3A Enable Follow-Up Call Required</fullName>
        <actions>
            <name>Update_Follow_Up_Call_Required_to_TRUE</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>User.Market__c</field>
            <operation>equals</operation>
            <value>IN</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.PreferredDateTimeofCallback__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Case.FollowUpCallRequired__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Case%3A Next Attempt Due Date</fullName>
        <active>false</active>
        <booleanFilter>1 OR 2</booleanFilter>
        <criteriaItems>
            <field>Case.Status</field>
            <operation>equals</operation>
            <value>Pending Second Attempt</value>
        </criteriaItems>
        <criteriaItems>
            <field>Case.Status</field>
            <operation>equals</operation>
            <value>Pending Third Attempt</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Clear Reopen Notes</fullName>
        <actions>
            <name>Update_Reopen_Notes</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <formula>AND ( 	ISCHANGED(Status),    	AND 	( 		!ISPICKVAL(PRIORVALUE(Status),&quot;Closed-Resolved&quot;),    		!ISPICKVAL(PRIORVALUE(Status),&quot;Closed-Unresolved&quot;),    		!ISPICKVAL(PRIORVALUE(Status),&quot;Completed&quot;),    		!ISPICKVAL(PRIORVALUE(Status),&quot;Cancelled&quot;),   		!ISBLANK(ReopenNotes__c) 	)  )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Case Description</fullName>
        <actions>
            <name>Update_Description_to_Custom_Field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <description>Update Description (Standard Field) to Description (Custom Field)</description>
        <formula>OR(ISNEW(), ISCHANGED(Description))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Update Reopen Count</fullName>
        <actions>
            <name>Update_Reopen_Count</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND ( 	ISCHANGED(Status), 	OR 	( 		ISPICKVAL(PRIORVALUE(Status),&quot;Closed-Resolved&quot;),    		ISPICKVAL(PRIORVALUE(Status),&quot;Closed-Unresolved&quot;), 		ISPICKVAL(PRIORVALUE(Status),&quot;Completed&quot;), 		ISPICKVAL(PRIORVALUE(Status),&quot;Cancelled&quot;) 	),  	AND 	( 		!ISPICKVAL(Status,&quot;Closed-Resolved&quot;), 		!ISPICKVAL(Status,&quot;Closed-Unresolved&quot;), 		!ISPICKVAL(Status,&quot;Completed&quot;), 		!ISPICKVAL(Status,&quot;Cancelled&quot;) 	),     	!ISBLANK(ReopenNotes__c)   )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
